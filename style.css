
:root{
  --bg-color: #fff4f7;
  --accent: #ff6b81;
  --muted: #6b7280;
  --glass: rgba(255,255,255,0.6);
}
*{box-sizing:border-box}
body,html{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;}
.hidden{display:none}
.screen{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,#ffeef6,#fff);z-index:50}
.loader-box{display:flex;flex-direction:column;align-items:center;gap:16px}
.loader-spinner{width:72px;height:72px;border-radius:50%;border:8px solid rgba(255,255,255,0.6);border-top-color:var(--accent);animation:spin 1s linear infinite;box-shadow:0 6px 18px rgba(0,0,0,0.08)}
.loader-text{font-weight:700;color:var(--muted);font-size:18px}

@keyframes spin{to{transform:rotate(360deg)}}

/* App layout */
#app{min-height:100vh}
.page{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:28px}
.vault-panel{width:100%;max-width:980px;background:var(--glass);border-radius:20px;padding:28px;position:relative;box-shadow:0 10px 30px rgba(0,0,0,0.08)}
.vault-panel h1{margin:0;font-size:28px;color:#7f1d3b}
.vault-panel p{margin-top:8px;color:var(--muted)}

/* Backgrounds for vault and letter - swapped by JS */
.vault-panel::before, .letter-card::before{
  content:'';position:absolute;inset:0;border-radius:20px;z-index:-1;background-size:cover;background-position:center;filter:contrast(95%);
}

/* Inputs */
.inputs{display:flex;gap:12px;margin-top:22px;flex-wrap:wrap}
.input-card{flex:1;min-width:200px;display:flex;flex-direction:column;gap:8px}
.input-card label{font-size:13px;color:#6b2135}
.input-card input{padding:10px;border-radius:10px;border:1px solid rgba(0,0,0,0.08);background:rgba(255,255,255,0.8)}

/* Buttons */
.actions{display:flex;gap:10px;margin-top:18px;align-items:center}
.btn{background:var(--accent);color:white;padding:10px 14px;border-radius:12px;border:none;cursor:pointer;box-shadow:0 8px 18px rgba(255,107,129,0.12)}
.btn.ghost{background:transparent;color:var(--muted);border:1px solid rgba(0,0,0,0.06)}

/* Vault door visuals */
.vault-door{position:absolute;inset:0;pointer-events:none;display:flex;align-items:center;justify-content:center}
.door-left,.door-right{position:absolute;top:18px;bottom:18px;width:50%;background:rgba(255,255,255,0.85);border-radius:12px;box-shadow:inset 0 4px 12px rgba(0,0,0,0.06)}
.door-left{left:18px;transform-origin:right center}
.door-right{right:18px;transform-origin:left center}
.vault-open .door-left{transform:translateX(-120%) rotateY(-20deg);transition:transform 1s ease}
.vault-open .door-right{transform:translateX(120%) rotateY(20deg);transition:transform 1s ease}

/* Letter */
.letter-card{width:100%;max-width:800px;background:var(--glass);padding:24px;border-radius:16px;position:relative;box-shadow:0 10px 30px rgba(0,0,0,0.06)}
.letter-body{margin-top:12px;background:rgba(255,255,255,0.7);padding:16px;border-radius:10px;min-height:160px}
.letter-footer{display:flex;justify-content:space-between;margin-top:12px;color:var(--muted)}
.letter-actions{margin-top:14px;display:flex;gap:10px}

/* Game */
.game-wrap{display:flex;gap:20px;align-items:flex-start;max-width:960px;width:100%}
.game-left{background:linear-gradient(180deg,#111827,#0b1220);padding:12px;border-radius:12px}
canvas{background:#0b1220;display:block;border-radius:6px;box-shadow:inset 0 0 0 6px rgba(255,255,255,0.02)}
.game-right{flex:1}
.score-box{font-weight:700;margin-bottom:10px;color:#6b2135}

/* Modal */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.45);z-index:60}
.modal-content{background:white;padding:18px;border-radius:12px;min-width:260px;text-align:center}

/* Responsive tweaks */
@media(max-width:720px){
  .inputs{flex-direction:column}
  .game-wrap{flex-direction:column;align-items:center}
}

/* Utility */
.center{display:flex;align-items:center;justify-content:center}
